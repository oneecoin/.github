# 블록

Oneecoin에서 블록은 거래 정보를 담습니다.

## 거래

거래는 Input과 Output으로 나뉘는데,  
Output은 거래의 결과로 각 지갑에 추가되는 코인의 양을 뜻하고  
Input은 거래에 들어가는 코인의 양에 맞는 이전 거래의 Output입니다.

Input에는 Output을 사용하는 지갑의 private key를 사용해 서명(signature)을 만듭니다.  
Output을 소유했다는 것을 증명하기 위해서 입니다.

Input에 사용된 Output은 더이상 가치가 없습니다.  
따라서 사용되지 않은 Output들만 모아 값을 더하면 그게 그 지갑의 소유액이 됩니다.

### 예

당신의 public key는 1234입니다. 그리고 블록체인에 다음과 같은 거래가 있습니다.

```json
{
    "ID": 1,
    "input": [
        ...
    ],
    "output": [
        {
            "to": "1234",
            "amount": 500
        }
    ]
}
```

이때 당신은 500코인을 소유하고 있는 것입니다.  
당신이 4321로 300코인을 보낸다고 하면

```json
{
    "ID": 2,
    "input": [
        {
            "txID": 1,
            "index": 0,
            "signature": "####"
        }
    ],
    "output": [
        {
            "to": "4321",
            "amount": 300
        },
        {
            "to": "1234",
            "amount": 200
        }
    ]
}
```

위와 같은 거래가 만들어집니다.

이 거래의 input은 ID가 1인 거래의 1번째 output을 가져와 사용하고 있습니다.  
따라서 사용된 output은 더이상 소유 금액을 구하는 데 포함되지 않습니다.

결과적으로 이 거래 후  
4321에는 300코인이 있고,  
1234에는 200코인이 있게 됩니다.

## Hash

블록은 각각 고유한 hash를 갖습니다.  
hash는 블록의 높이(height), 가진 데이터(여기서는 거래), 이전 블록의 해시, nonce를 조합하여 만들어집니다.

# 블록체인

블록체인은 말 그대로 블록의 체인입니다.

블록체인은 블록을 삽입만 할 수 있도록 이루어져 있습니다.  
